{"remainingRequest":"D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021_Project\\Nodejs\\QRShop\\client\\src\\components\\test.vue?vue&type=style&index=0&lang=true&","dependencies":[{"path":"D:\\2021_Project\\Nodejs\\QRShop\\client\\src\\components\\test.vue","mtime":1622368502197},{"path":"D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi52LWRhdGEtdGFibGUgeyANCiAgb3ZlcmZsb3cteDogYXV0byAhaW1wb3J0YW50Ow0KfQ0K"},{"version":3,"sources":["test.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4MA;AACA;AACA","file":"test.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div style=\"\">\r\n    <v-card class=\"mx-auto\" outlined>\r\n      <v-card-title> </v-card-title>\r\n      <v-list-item three-line>\r\n        <v-form>\r\n          <v-container>\r\n            <v-row>\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-text-field\r\n                  label=\"Name\"\r\n                  outlined\r\n                  dense\r\n                  required\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-text-field label=\"Describe\" outlined dense></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"12\">\r\n                <v-autocomplete\r\n                  v-model=\"values\"\r\n                  :items=\"items\"\r\n                  @click=\"test\"\r\n                  outlined\r\n                  dense\r\n                  chips\r\n                  small-chips\r\n                  label=\"Privilege\"\r\n                  multiple\r\n                ></v-autocomplete>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <b-button-toolbar class=\"\" aria-label=\"\">\r\n                  <b-button-group size=\"\" class=\"mr-1\">\r\n                    <b-button variant=\"outline-primary\"\r\n                      ><i class=\"mdi mdi-plus-thick\" aria-hidden=\"true\"></i\r\n                      >Add</b-button\r\n                    >\r\n                    <b-button variant=\"outline-primary\" :disabled=\"deleteActive\"\r\n                      ><i class=\"mdi mdi-delete-forever\" aria-hidden=\"true\"></i\r\n                      >Delete</b-button\r\n                    >\r\n                  </b-button-group>\r\n                </b-button-toolbar>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-text-field\r\n                  append-icon=\"mdi-magnify\"\r\n                  label=\"Search\"\r\n                  outlined\r\n                  dense\r\n                  hide-details\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" md=\"12\">\r\n                <v-data-table\r\n                  checkbox-color=\"#000\"\r\n                  v-model=\"selected\"\r\n                  :headers=\"headers\"\r\n                  :items=\"desserts\"\r\n                  :single-select=\"false\"\r\n                  item-key=\"_id\"\r\n                  show-select\r\n                  :search=\"search\"\r\n                  class=\"elevation-1\"\r\n                  @click:row=\"selectRow\"\r\n                >\r\n                  <template\r\n                    v-for=\"header in headers.filter((header) =>\r\n                      header.hasOwnProperty('formatter')\r\n                    )\"\r\n                    v-slot:[`item.${header.value}`]=\"{ header, value }\"\r\n                  >\r\n                    {{ header.formatter(value) }}\r\n                  </template>\r\n                </v-data-table>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n        </v-form>\r\n      </v-list-item>\r\n      <v-card-actions> </v-card-actions>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      headers: [],\r\n      desserts: [],\r\n      selected: [],\r\n      search: \"\",\r\n      deleteActive: true,\r\n      items: [\"foo\", \"bar\", \"fizz\", \"buzz\"],\r\n      values: [\"foo\", \"bar\"],\r\n      form: {\r\n        name: \"\",\r\n        region: \"\",\r\n        date1: \"\",\r\n        date2: \"\",\r\n        delivery: false,\r\n        type: [],\r\n        resource: \"\",\r\n        desc: \"\",\r\n      },\r\n    };\r\n  },\r\n  props: {\r\n    layerid: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    iframeData: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n    },\r\n    lydata: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    test: function() {\r\n      console.log(this);\r\n    },\r\n    selectRow: function(item) {\r\n      let add = true;\r\n      for (let i = 0; i < this.selected.length; i++) {\r\n        if (item._id == this.selected[i]._id) {\r\n          this.selected.splice(i, 1);\r\n          add = false;\r\n          break;\r\n        }\r\n      }\r\n      if (add) this.selected.push(item);\r\n    },\r\n    formatTime: function(item) {\r\n      return new Date(item).toLocaleString();\r\n    },\r\n    onSubmit() {\r\n      this.$parent.$data.iframeData = Object.assign({}, this.form);\r\n      this.lydata.iframeData = Object.assign(this.lydata.iframeData, this.form);\r\n      this.$layer.msg(\"成功\");\r\n      this.$layer.close(this.layerid);\r\n    },\r\n    quxiao() {\r\n      this.$layer.close(this.layerid);\r\n    },\r\n  },\r\n  beforeCreate: function() {},\r\n  mounted: async function() {\r\n    console.log(this);\r\n    try {\r\n      let result = await new Promise((resolve, reject) => {\r\n        this.$client.CallFunction(\"PrivilegeManager\", \"GetAll\", {}, function(\r\n          e\r\n        ) {\r\n          if (e.Status == \"Pass\") resolve(e.Data);\r\n          else reject(e.Message);\r\n        });\r\n      });\r\n      if (result.length > 0) {\r\n        this.headers = [\r\n          { text: \"Privilege Name\", value: \"privilege_name\" },\r\n          { text: \"Describe\", value: \"privilege_desc\" },\r\n          { text: \"Target Url\", value: \"url\" },\r\n          { text: \"Edit Time\", value: \"edit_time\", formatter: this.formatTime },\r\n        ];\r\n        this.desserts = result;\r\n      }\r\n    } catch (err) {\r\n      this.$swal.fire(\r\n        {\r\n          icon: \"error\",\r\n          text: err,\r\n        },\r\n        function() {}\r\n      );\r\n    }\r\n  },\r\n  watch: {\r\n    iframeData: {\r\n      handler: function() {\r\n        this.form = this.iframeData;\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    },\r\n    selected() {\r\n      if (this.selected.length > 0) this.deleteActive = false;\r\n      else this.deleteActive = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\">\r\n.v-data-table { \r\n  overflow-x: auto !important;\r\n}\r\n</style>\r\n"]}]}