{"remainingRequest":"/home/trananh094/Documents/Nodejs/QRShop/client/node_modules/babel-loader/lib/index.js!/home/trananh094/Documents/Nodejs/QRShop/client/node_modules/eslint-loader/index.js??ref--13-0!/home/trananh094/Documents/Nodejs/QRShop/client/src/plugins/VueClient.js","dependencies":[{"path":"/home/trananh094/Documents/Nodejs/QRShop/client/src/plugins/VueClient.js","mtime":1621681118398},{"path":"/home/trananh094/Documents/Nodejs/QRShop/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/trananh094/Documents/Nodejs/QRShop/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/trananh094/Documents/Nodejs/QRShop/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS90cmFuYW5oMDk0L0RvY3VtZW50cy9Ob2RlanMvUVJTaG9wL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwoKdmFyIENsaWVudCA9IGZ1bmN0aW9uIENsaWVudCh2dWUpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpZW50KTsKCiAgdGhpcy5zdWJzY3JpYmVycyA9IHt9OwogIHRoaXMuQ2xpZW50SUQgPSAiIjsKICB0aGlzLlZ1ZSA9IHZ1ZTsKICB0aGlzLndlYnNvY2tldCA9IG51bGw7CiAgdGhpcy5Vc2VySW5mbyA9IHsKICAgIElEOiAiIiwKICAgIFVzZXJOYW1lOiAiIiwKICAgIEVtYWlsOiAiIgogIH07CiAgdGhpcy5Ub2tlbiA9IG51bGw7CgogIENsaWVudC5wcm90b3R5cGUuSW5pdCA9IGZ1bmN0aW9uIChvYmopIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuQ2xpZW50SUQgPT0gIiIpIHsKICAgICAgdGhpcy5DbGllbnRJRCA9ICJDSUQiICsgcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDk5KS50b1N0cmluZygpICsgRGF0ZS5ub3coKS50b1N0cmluZygpOwogICAgfQoKICAgIGlmIChvYmouU2VydmVySVAgJiYgb2JqLlBvcnQpIHsKICAgICAgdGhpcy53ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KCJ3czovLyIuY29uY2F0KG9iai5TZXJ2ZXJJUCwgIjoiKS5jb25jYXQob2JqLlBvcnQpKTsKICAgICAgdGhpcy53ZWJzb2NrZXQuQ2xpZW50SUQgPSB0aGlzLkNsaWVudElEOwogICAgfQoKICAgIGlmIChvYmouT25NZXNzYWdlKSB7CiAgICAgIHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZSA9IG9iai5Pbk1lc3NhZ2U7CiAgICB9IGVsc2UgewogICAgICB0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJHZXQ+XyIuY29uY2F0KGUuZGF0YSkpOwogICAgICAgIHZhciBkID0gSlNPTi5wYXJzZShlLmRhdGEpOwoKICAgICAgICBfdGhpcy5wdWJsaXNoKGQuTWVzc2FnZUlELCBkKTsKICAgICAgfTsKICAgIH0KCiAgICBpZiAob2JqLk9uT3BlbikgewogICAgICB0aGlzLndlYnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJvbk9wZW46Y29ubmV0aW9uIG9wZW4iKTsKICAgICAgICBvYmouT25PcGVuKGUpOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgdGhpcy53ZWJzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJvbk9wZW46Y29ubmV0aW9uIG9wZW4iKTsKICAgICAgfTsKICAgIH0KCiAgICBpZiAob2JqLk9uQ2xvc2UpIHsKICAgICAgdGhpcy53ZWJzb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygib25DbG9zZTpjb25uZXRpb24gY2xvc2UiKTsKICAgICAgICBvYmouT25DbG9zZSgpOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgdmFyIHNlZnQgPSB0aGlzLlZ1ZTsKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKHNlZnQuc3dhbCgpKTsKICAgICAgICBjb25zb2xlLmxvZygib25DbG9zZTpjb25uZXRpb24gY2xvc2UiKTsKICAgICAgICBzZWZ0LnN3YWwuZmlyZSh7CiAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgdGl0bGU6ICJDb25uZXRpb24gY2xvc2UuLi4iLAogICAgICAgICAgdGV4dDogIlRoZSBzZXJ2ZXIgY29ubmVjdGlvbiBjbG9zZTsiICsgZS5yZWFzb24KICAgICAgICB9LCBmdW5jdGlvbiAoKSB7Ly9wYXJlbnQud2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pOwogICAgICB9OwogICAgfQogIH07CgogIENsaWVudC5wcm90b3R5cGUuQ2FsbEZ1bmN0aW9uID0gZnVuY3Rpb24gKENsYXNzTmFtZSwgRnVuY3Rpb25OYW1lLCBEYXRhLCBDYWxsQmFjaywgTWVzc2FnZUlEKSB7CiAgICBNZXNzYWdlSUQgPSBNZXNzYWdlSUQgPyBNZXNzYWdlSUQgOiAiTVNHSUQiICsgcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDk5KS50b1N0cmluZygpICsgRGF0ZS5ub3coKS50b1N0cmluZygpOwoKICAgIGlmIChDYWxsQmFjayAhPSBudWxsICYmIENhbGxCYWNrICE9IHVuZGVmaW5lZCkgewogICAgICB0aGlzLnN1YnNjcmliZShNZXNzYWdlSUQsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgQ2FsbEJhY2soZCk7CiAgICAgIH0pOwogICAgfQoKICAgIHZhciBkYXRhID0gewogICAgICBUb2tlbjogdGhpcy5Ub2tlbiwKICAgICAgQ2xpZW50SUQ6IHRoaXMuQ2xpZW50SUQsCiAgICAgIE1lc3NhZ2VJRDogTWVzc2FnZUlELAogICAgICBDbGFzczogQ2xhc3NOYW1lLAogICAgICBGdW5jdGlvbjogRnVuY3Rpb25OYW1lLAogICAgICBEYXRhOiBEYXRhCiAgICB9OwoKICAgIGlmICh0aGlzLndlYnNvY2tldC5yZWFkeVN0YXRlID09IDEpIHsKICAgICAgdmFyIGpzb25TdHIgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKICAgICAgY29uc29sZS5sb2coIlNlbmQ+XyIgKyBqc29uU3RyKTsKICAgICAgdGhpcy53ZWJzb2NrZXQuc2VuZChqc29uU3RyKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKCJFcnJvcj5fIFdlYlNvY2tldCBub3QgcmVhZHksU3RhdGU6IiArIHRoaXMud2Vic29ja2V0LnJlYWR5U3RhdGUpOwogICAgfQogIH07CgogIENsaWVudC5wcm90b3R5cGUuTG9naW4gPSBmdW5jdGlvbiAoRW1haWwsIFBhc3N3b3JkLCBDYWxsQmFjaykgewogICAgdGhpcy5DYWxsRnVuY3Rpb24oIlVzZXJNYW5hZ2VyIiwgIkxvZ2luIiwgewogICAgICBlbWFpbDogRW1haWwsCiAgICAgIHBhc3N3b3JkOiBQYXNzd29yZAogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUuU3RhdHVzID09ICJQYXNzIikgewogICAgICAgIHRoaXMuU2V0VG9rZW4oZS5EYXRhLmFjY2Vzc1Rva2VuKTsKICAgICAgICB0aGlzLlNldFVzZXJJbmZvKGUuRGF0YS5Vc2VySW5mbyk7CiAgICAgIH0KCiAgICAgIENhbGxCYWNrKGUpOwogICAgfS5iaW5kKHRoaXMpKTsKICB9OwoKICBDbGllbnQucHJvdG90eXBlLkxvZ291dCA9IGZ1bmN0aW9uIChDYWxsQmFjaykgewogICAgdGhpcy5DYWxsRnVuY3Rpb24oIlVzZXJNYW5hZ2VyIiwgIkxvZ291dCIsIHsKICAgICAgVE9LRU46IHRoaXMuVG9rZW4KICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLlN0YXR1cyA9PSAiUGFzcyIpIHsKICAgICAgICB0aGlzLlNldFRva2VuKG51bGwpOwogICAgICAgIHRoaXMuU2V0VXNlckluZm8obnVsbCk7CiAgICAgIH0KCiAgICAgIENhbGxCYWNrKGUpOwogICAgfS5iaW5kKHRoaXMpKTsKICB9OwoKICBDbGllbnQucHJvdG90eXBlLlNldFRva2VuID0gZnVuY3Rpb24gKFRva2VuKSB7CiAgICB0aGlzLlRva2VuID0gVG9rZW47CiAgICB0aGlzLlZ1ZS4kY29va2llcy5zZXQoIlRva2VuIiwgVG9rZW4sICIxaCIpOyAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCJUb2tlbiIsIFRva2VuKTsKICB9OwoKICBDbGllbnQucHJvdG90eXBlLlNldFVzZXJJbmZvID0gZnVuY3Rpb24gKFVzZXJJbmZvKSB7CiAgICBpZiAoVXNlckluZm8pIHsKICAgICAgdGhpcy5Vc2VySW5mby5JRCA9IFVzZXJJbmZvLklEOwogICAgICB0aGlzLlVzZXJJbmZvLlVzZXJOYW1lID0gVXNlckluZm8uVXNlck5hbWU7CiAgICAgIHRoaXMuVXNlckluZm8uRW1haWwgPSBVc2VySW5mby5FbWFpbDsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuVXNlckluZm8uSUQgPSBudWxsOwogICAgICB0aGlzLlVzZXJJbmZvLlVzZXJOYW1lID0gbnVsbDsKICAgICAgdGhpcy5Vc2VySW5mby5FbWFpbCA9IG51bGw7CiAgICB9CiAgfTsKCiAgQ2xpZW50LnByb3RvdHlwZS5DaGVja1Rva2VuID0gZnVuY3Rpb24gKENhbGxCYWNrKSB7CiAgICB2YXIgQ0tUSyA9IGxvY2FsU3RvcmFnZS5Ub2tlbjsKICAgIHRoaXMuQ2FsbEZ1bmN0aW9uKCJVc2VyTWFuYWdlciIsICJDaGVja1Rva2VuIiwgewogICAgICBUb2tlbjogQ0tUSwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUuU3RhdHVzID09ICJQYXNzIikgewogICAgICAgIHRoaXMuU2V0VG9rZW4oQ0tUSyk7CiAgICAgICAgdGhpcy5TZXRVc2VySW5mbyhlLkRhdGEpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuU2V0VG9rZW4obnVsbCk7CiAgICAgICAgdGhpcy5TZXRVc2VySW5mbyhudWxsKTsKICAgICAgfQoKICAgICAgQ2FsbEJhY2soZSk7CiAgICB9LmJpbmQodGhpcykpOwogIH07CgogIENsaWVudC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykgewogICAgaWYgKCF0aGlzLnN1YnNjcmliZXJzW2V2ZW50XSkgewogICAgICB0aGlzLnN1YnNjcmliZXJzW2V2ZW50XSA9IFtdOwogICAgfQoKICAgIHRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdLnB1c2goY2FsbGJhY2spIC0gMTsKICB9OwoKICBDbGllbnQucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBkZWxldGUgdGhpcy5zdWJzY3JpYmVyc1tldmVudF07CiAgfTsKCiAgQ2xpZW50LnByb3RvdHlwZS5wdWJsaXNoID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7CiAgICBpZiAoIXRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdKSByZXR1cm47CiAgICB0aGlzLnN1YnNjcmliZXJzW2V2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uIChzdWJzY3JpYmVyQ2FsbGJhY2spIHsKICAgICAgcmV0dXJuIHN1YnNjcmliZXJDYWxsYmFjayhkYXRhKTsKICAgIH0pOwogICAgZGVsZXRlIHRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdOwogIH07CgogIENsaWVudC5wcm90b3R5cGUucHVibGlzaE1vcmVUaW1lID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7CiAgICBpZiAoIXRoaXMuc3Vic2NyaWJlcnNbZXZlbnRdKSByZXR1cm47CiAgICB0aGlzLnN1YnNjcmliZXJzW2V2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uIChzdWJzY3JpYmVyQ2FsbGJhY2spIHsKICAgICAgcmV0dXJuIHN1YnNjcmliZXJDYWxsYmFjayhkYXRhKTsKICAgIH0pOwogIH07CgogIHRoaXMuSW5pdCh7CiAgICBTZXJ2ZXJJUDogImxvY2FsaG9zdCIsCiAgICBQb3J0OiAiMzAwMCIKICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IENsaWVudDs="},{"version":3,"sources":["/home/trananh094/Documents/Nodejs/QRShop/client/src/plugins/VueClient.js"],"names":["Client","vue","subscribers","ClientID","Vue","websocket","UserInfo","ID","UserName","Email","Token","prototype","Init","obj","parseInt","Math","random","toString","Date","now","ServerIP","Port","WebSocket","OnMessage","onmessage","e","console","log","data","d","JSON","parse","publish","MessageID","OnOpen","onopen","OnClose","onclose","seft","swal","fire","icon","title","text","reason","CallFunction","ClassName","FunctionName","Data","CallBack","undefined","subscribe","Class","Function","readyState","jsonStr","stringify","send","Login","Password","email","password","Status","SetToken","accessToken","SetUserInfo","bind","Logout","TOKEN","$cookies","set","CheckToken","CKTK","localStorage","event","callback","push","unsubscribe","forEach","subscriberCallback","publishMoreTime"],"mappings":"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","sourcesContent":["class Client {\n  constructor(vue) {\n    this.subscribers = {};\n    this.ClientID = \"\";\n    this.Vue = vue;\n    this.websocket = null;\n    this.UserInfo = {\n      ID: \"\",\n      UserName: \"\",\n      Email: \"\",\n    };\n    this.Token = null;\n    Client.prototype.Init = function(obj) {\n      if (this.ClientID == \"\") {\n        this.ClientID =\n          \"CID\" +\n          parseInt(Math.random() * 99).toString() +\n          Date.now().toString();\n      }\n      if (obj.ServerIP && obj.Port) {\n        this.websocket = new WebSocket(`ws://${obj.ServerIP}:${obj.Port}`);\n        this.websocket.ClientID = this.ClientID;\n      }\n      if (obj.OnMessage) {\n        this.websocket.onmessage = obj.OnMessage;\n      } else {\n        this.websocket.onmessage = (e) => {\n          console.log(`Get>_${e.data}`);\n          var d = JSON.parse(e.data);\n          this.publish(d.MessageID, d);\n        };\n      }\n      if (obj.OnOpen) {\n        this.websocket.onopen = function(e) {\n          console.log(`onOpen:connetion open`);\n          obj.OnOpen(e);\n        };\n      } else {\n        this.websocket.onopen = function() {\n          console.log(`onOpen:connetion open`);\n        };\n      }\n      if (obj.OnClose) {\n        this.websocket.onclose = function() {\n          console.log(`onClose:connetion close`);\n          obj.OnClose();\n        };\n      } else {\n        let seft = this.Vue;\n        this.websocket.onclose = function(e) {\n          console.log(seft.swal());\n          console.log(\"onClose:connetion close\");\n          seft.swal.fire(\n            {\n              icon: \"error\",\n              title: \"Connetion close...\",\n              text: \"The server connection close;\" + e.reason,\n            },\n            function() {\n              //parent.window.location.reload();\n            }\n          );\n        };\n      }\n    };\n    Client.prototype.CallFunction = function(\n      ClassName,\n      FunctionName,\n      Data,\n      CallBack,\n      MessageID\n    ) {\n      MessageID = MessageID\n        ? MessageID\n        : \"MSGID\" +\n          parseInt(Math.random() * 99).toString() +\n          Date.now().toString();\n      if (CallBack != null && CallBack != undefined) {\n        this.subscribe(MessageID, function(d) {\n          CallBack(d);\n        });\n      }\n      var data = {\n        Token: this.Token,\n        ClientID: this.ClientID,\n        MessageID: MessageID,\n        Class: ClassName,\n        Function: FunctionName,\n        Data: Data,\n      };\n      if (this.websocket.readyState == 1) {\n        var jsonStr = JSON.stringify(data);\n        console.log(\"Send>_\" + jsonStr);\n        this.websocket.send(jsonStr);\n      } else {\n        console.log(\n          \"Error>_ WebSocket not ready,State:\" + this.websocket.readyState\n        );\n      }\n    };\n    Client.prototype.Login = function(Email, Password, CallBack) {\n      this.CallFunction(\n        \"UserManager\",\n        \"Login\",\n        { email: Email, password: Password },\n        function(e) {\n          if (e.Status == \"Pass\") {\n            this.SetToken(e.Data.accessToken);\n            this.SetUserInfo(e.Data.UserInfo);\n          }\n          CallBack(e);\n        }.bind(this)\n      );\n    };\n    Client.prototype.Logout = function(CallBack) {\n      this.CallFunction(\n        \"UserManager\",\n        \"Logout\",\n        { TOKEN: this.Token },\n        function(e) {\n          if (e.Status == \"Pass\") {\n            this.SetToken(null);\n            this.SetUserInfo(null);\n          }\n          CallBack(e);\n        }.bind(this)\n      );\n    };\n    Client.prototype.SetToken = function(Token) {\n      this.Token = Token;\n      this.Vue.$cookies.set(\"Token\", Token, \"1h\");\n      //localStorage.setItem(\"Token\", Token);\n    };\n    Client.prototype.SetUserInfo = function(UserInfo) {\n      if (UserInfo) {\n        this.UserInfo.ID = UserInfo.ID;\n        this.UserInfo.UserName = UserInfo.UserName;\n        this.UserInfo.Email = UserInfo.Email;\n      } else {\n        this.UserInfo.ID = null;\n        this.UserInfo.UserName = null;\n        this.UserInfo.Email = null;\n      }\n    };\n    Client.prototype.CheckToken = function(CallBack) {\n      var CKTK = localStorage.Token;\n      this.CallFunction(\n        \"UserManager\",\n        \"CheckToken\",\n        { Token: CKTK },\n        function(e) {\n          if (e.Status == \"Pass\") {\n            this.SetToken(CKTK);\n            this.SetUserInfo(e.Data);\n          } else {\n            this.SetToken(null);\n            this.SetUserInfo(null);\n          }\n          CallBack(e);\n        }.bind(this)\n      );\n    };\n    Client.prototype.subscribe = function(event, callback) {\n      if (!this.subscribers[event]) {\n        this.subscribers[event] = [];\n      }\n      this.subscribers[event].push(callback) - 1;\n    };\n    Client.prototype.unsubscribe = function(event) {\n      delete this.subscribers[event];\n    };\n    Client.prototype.publish = function(event, data) {\n      if (!this.subscribers[event]) return;\n      this.subscribers[event].forEach((subscriberCallback) =>\n        subscriberCallback(data)\n      );\n      delete this.subscribers[event];\n    };\n    Client.prototype.publishMoreTime = function(event, data) {\n      if (!this.subscribers[event]) return;\n      this.subscribers[event].forEach((subscriberCallback) =>\n        subscriberCallback(data)\n      );\n    };\n\n    this.Init({ ServerIP: \"localhost\", Port: \"3000\" });\n  }\n}\nexport default Client;\n"]}]}