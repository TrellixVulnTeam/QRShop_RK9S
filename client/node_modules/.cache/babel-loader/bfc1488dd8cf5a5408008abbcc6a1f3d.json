{"remainingRequest":"D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021_Project\\Nodejs\\QRShop\\client\\src\\components\\Layers\\RoleLayer.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2021_Project\\Nodejs\\QRShop\\client\\src\\components\\Layers\\RoleLayer.vue","mtime":1622476897540},{"path":"D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2021_Project\\Nodejs\\QRShop\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6LzIwMjFfUHJvamVjdC9Ob2RlanMvUVJTaG9wL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYWRlcnM6IFtdLAogICAgICAvL2RhdGEgaGVhZGVyIGZvciB0YWJsZQogICAgICBkZXNzZXJ0czogW10sCiAgICAgIC8vZGF0YSBzaG93IG9uIHRhYmxlCiAgICAgIHNlbGVjdGVkOiBbXSwKICAgICAgLy9kYXRhIHNlbGVjdGVkIGZyb20gdGFibGUKICAgICAgc2VhcmNoOiAiIiwKICAgICAgZGVsZXRlQWN0aXZlOiB0cnVlLAogICAgICBpdGVtczogW10sCiAgICAgIC8vZGF0YSBmb3IgYXV0b2NvbXBsZXRlCiAgICAgIHZhbHVlczogW10sCiAgICAgIC8vZGF0YSBzZWxlY3RlZCBmcm9tIGF1dG9jb21wbGV0ZQogICAgICByb2xlX25hbWU6ICIiLAogICAgICByb2xlX2Rlc2NyaWJlOiAiIiwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICByZWdpb246ICIiLAogICAgICAgIGRhdGUxOiAiIiwKICAgICAgICBkYXRlMjogIiIsCiAgICAgICAgZGVsaXZlcnk6IGZhbHNlLAogICAgICAgIHR5cGU6IFtdLAogICAgICAgIHJlc291cmNlOiAiIiwKICAgICAgICBkZXNjOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGxheWVyaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKICAgIGlmcmFtZURhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBseWRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAqIGluaXQgZmlzdCBkYXRhIHdoZW4gb3BlbiBsYXllcg0KICAgICAqLwogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgaWYgKHRoaXMuaWZyYW1lRGF0YS50eXBlID09ICJlZGl0IikgewogICAgICAgIHRoaXMucm9sZV9uYW1lID0gdGhpcy5pZnJhbWVEYXRhLnJvbGUucm9sZV9uYW1lOwogICAgICAgIHRoaXMucm9sZV9kZXNjcmliZSA9IHRoaXMuaWZyYW1lRGF0YS5yb2xlLnJvbGVfZGVzY3JpYmU7CiAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pZnJhbWVEYXRhLnJvbGUucHJpdmlsZWdlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBhcnJheS5wdXNoKHRoaXMuaWZyYW1lRGF0YS5yb2xlLnByaXZpbGVnZVtpXS5faWQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy52YWx1ZXMgPSBhcnJheTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBjaGFuZ2UgdGFibGUgZGF0YSB3aGVuIGF1dG9jb21wbGV0ZSBzZWxlY3QNCiAgICAgKiBvciBmb2xsb3cgZGF0YSBwYXNzIGZyb20gcm9sZS52dWUgcGFnZQ0KICAgICAqLwogICAgY2hhbmdlVGFibGVEYXRhOiBmdW5jdGlvbiBjaGFuZ2VUYWJsZURhdGEoKSB7CiAgICAgIHZhciBhcnIgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52YWx1ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuaXRlbXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmICh0aGlzLml0ZW1zW2pdLl9pZCA9PSB0aGlzLnZhbHVlc1tpXSkgYXJyLnB1c2godGhpcy5pdGVtc1tqXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmRlc3NlcnRzID0gYXJyOwogICAgfSwKICAgIHNlbGVjdFJvdzogZnVuY3Rpb24gc2VsZWN0Um93KGl0ZW0pIHsKICAgICAgdmFyIGFkZCA9IHRydWU7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoaXRlbS5faWQgPT0gdGhpcy5zZWxlY3RlZFtpXS5faWQpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuc3BsaWNlKGksIDEpOwogICAgICAgICAgYWRkID0gZmFsc2U7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChhZGQpIHRoaXMuc2VsZWN0ZWQucHVzaChpdGVtKTsKICAgIH0sCiAgICBmb3JtYXRUaW1lOiBmdW5jdGlvbiBmb3JtYXRUaW1lKGl0ZW0pIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKGl0ZW0pLnRvTG9jYWxlU3RyaW5nKCk7CiAgICB9LAogICAgZGVsZXRlUHJpdmlsZWdlOiBmdW5jdGlvbiBkZWxldGVQcml2aWxlZ2UoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWxlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy52YWx1ZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmICh0aGlzLnZhbHVlc1tqXSA9PSB0aGlzLnNlbGVjdGVkW2ldLl9pZCkgewogICAgICAgICAgICB0aGlzLnZhbHVlcy5zcGxpY2UoaiwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnNlbGVjdGVkID0gW107CiAgICB9LAogICAgc2F2ZVJvbGU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zYXZlUm9sZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwoKICAgICAgICAgICAgICAgIGlmICghKHRoaXMucm9sZV9uYW1lID09ICIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJSb2xlIG5hbWUgY2FuJ3QgYmUgbnVsbCIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kY2xpZW50LkNhbGxGdW5jdGlvbigiUm9sZU1hbmFnZXIiLCBfdGhpcy5pZnJhbWVEYXRhLnR5cGUgPT0gImVkaXQiID8gIlVwZGF0ZSIgOiAiSW5zZXJ0IiwgX3RoaXMuaWZyYW1lRGF0YS50eXBlID09ICJlZGl0IiA/IHsKICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMuaWZyYW1lRGF0YS5yb2xlLl9pZCwKICAgICAgICAgICAgICAgICAgICBuZXc6IHsKICAgICAgICAgICAgICAgICAgICAgIHJvbGVfbmFtZTogX3RoaXMucm9sZV9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgcm9sZV9kZXNjcmliZTogX3RoaXMucm9sZV9kZXNjcmliZSwKICAgICAgICAgICAgICAgICAgICAgIHByaXZpbGVnZTogX3RoaXMudmFsdWVzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IDogewogICAgICAgICAgICAgICAgICAgIHJvbGVfbmFtZTogX3RoaXMucm9sZV9uYW1lLAogICAgICAgICAgICAgICAgICAgIHJvbGVfZGVzY3JpYmU6IF90aGlzLnJvbGVfZGVzY3JpYmUsCiAgICAgICAgICAgICAgICAgICAgcHJpdmlsZWdlOiBfdGhpcy52YWx1ZXMKICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZS5TdGF0dXMgPT0gIlBhc3MiKSByZXNvbHZlKGUpO2Vsc2UgcmVqZWN0KGUuTWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnQuJGRhdGEuaWZyYW1lRGF0YS5pc0NoYW5nZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHRoaXMuJGxheWVyLm1zZyhyZXN1bHQuTWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJGxheWVyLmNsb3NlKHRoaXMubGF5ZXJpZCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwogICAgICAgICAgICAgICAgdGhpcy4kbGF5ZXIubXNnKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNDsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgxNCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDEwLCAxNCwgMTddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNhdmVSb2xlKCkgewogICAgICAgIHJldHVybiBfc2F2ZVJvbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNhdmVSb2xlOwogICAgfSgpLAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJGxheWVyLmNsb3NlKHRoaXMubGF5ZXJpZCk7CiAgICB9LAogICAgcXV4aWFvOiBmdW5jdGlvbiBxdXhpYW8oKSB7CiAgICAgIHRoaXMuJGxheWVyLmNsb3NlKHRoaXMubGF5ZXJpZCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgX3RoaXMyLiRjbGllbnQuQ2FsbEZ1bmN0aW9uKCJQcml2aWxlZ2VNYW5hZ2VyIiwgIkdldEFsbCIsIHt9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBpZiAoZS5TdGF0dXMgPT0gIlBhc3MiKSByZXNvbHZlKGUuRGF0YSk7ZWxzZSByZWplY3QoZS5NZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVycyA9IFt7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJQcml2aWxlZ2UgTmFtZSIsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAicHJpdmlsZWdlX25hbWUiCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJEZXNjcmliZSIsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAicHJpdmlsZWdlX2Rlc2MiCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJUYXJnZXQgVXJsIiwKICAgICAgICAgICAgICAgICAgdmFsdWU6ICJ1cmwiCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJFZGl0IFRpbWUiLAogICAgICAgICAgICAgICAgICB2YWx1ZTogImVkaXRfdGltZSIsCiAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogdGhpcy5mb3JtYXRUaW1lCiAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSByZXN1bHQ7CiAgICAgICAgICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICB0aGlzLiRsYXllci5tc2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgdGhpcywgW1swLCA3XV0pOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBtb3VudGVkOwogIH0oKSwKICB3YXRjaDogewogICAgaWZyYW1lRGF0YTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuZm9ybSA9IHRoaXMuaWZyYW1lRGF0YTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgc2VsZWN0ZWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZC5sZW5ndGggPiAwKSB0aGlzLmRlbGV0ZUFjdGl2ZSA9IGZhbHNlO2Vsc2UgdGhpcy5kZWxldGVBY3RpdmUgPSB0cnVlOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICB2YWx1ZXM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLmNoYW5nZVRhYmxlRGF0YSgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"sources":["RoleLayer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"\">\r\n    <v-app>\r\n      <v-card class=\"mx-auto\" outlined>\r\n        <v-card-title> </v-card-title>\r\n        <v-list-item three-line>\r\n          <v-form>\r\n            <v-container>\r\n              <v-row>\r\n                <v-col cols=\"12\" md=\"6\">\r\n                  <v-text-field\r\n                    v-model=\"role_name\"\r\n                    label=\"Name\"\r\n                    outlined\r\n                    dense\r\n                    required\r\n                  ></v-text-field>\r\n                </v-col>\r\n                <v-col cols=\"12\" md=\"6\">\r\n                  <v-text-field\r\n                    v-model=\"role_describe\"\r\n                    label=\"Describe\"\r\n                    outlined\r\n                    dense\r\n                  ></v-text-field>\r\n                </v-col>\r\n                <v-col cols=\"12\">\r\n                  <v-autocomplete\r\n                    v-model=\"values\"\r\n                    :items=\"items\"\r\n                    :menu-props=\"{\r\n                      closeOnClick: true,\r\n                      closeOnContentClick: true,\r\n                    }\"\r\n                    item-text=\"privilege_name\"\r\n                    item-value=\"_id\"\r\n                    outlined\r\n                    dense\r\n                    chips\r\n                    small-chips\r\n                    label=\"Privilege\"\r\n                    multiple\r\n                  ></v-autocomplete>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col cols=\"12\" md=\"6\">\r\n                  <b-button-toolbar class=\"\" aria-label=\"\">\r\n                    <b-button-group size=\"\" class=\"mr-1\">\r\n                      <b-button\r\n                        variant=\"outline-primary\"\r\n                        :disabled=\"deleteActive\"\r\n                        @click=\"deletePrivilege\"\r\n                        ><i\r\n                          class=\"mdi mdi-delete-forever\"\r\n                          aria-hidden=\"true\"\r\n                        ></i\r\n                        >Delete</b-button\r\n                      >\r\n                    </b-button-group>\r\n                  </b-button-toolbar>\r\n                </v-col>\r\n                <v-col cols=\"12\" md=\"6\">\r\n                  <v-text-field\r\n                    append-icon=\"mdi-magnify\"\r\n                    label=\"Search\"\r\n                    outlined\r\n                    dense\r\n                    hide-details\r\n                  ></v-text-field>\r\n                </v-col>\r\n              </v-row>\r\n            </v-container>\r\n          </v-form>\r\n        </v-list-item>\r\n        <v-card-actions>\r\n          <v-container>\r\n            <v-row>\r\n              <v-col cols=\"12\" md=\"12\">\r\n                <v-data-table\r\n                  v-model=\"selected\"\r\n                  :headers=\"headers\"\r\n                  :items=\"desserts\"\r\n                  :single-select=\"false\"\r\n                  item-key=\"_id\"\r\n                  show-select\r\n                  :search=\"search\"\r\n                  class=\"elevation-1\"\r\n                  @click:row=\"selectRow\"\r\n                >\r\n                  <template\r\n                    v-for=\"header in headers.filter((header) =>\r\n                      header.hasOwnProperty('formatter')\r\n                    )\"\r\n                    v-slot:[`item.${header.value}`]=\"{ header, value }\"\r\n                  >\r\n                    {{ header.formatter(value) }}\r\n                  </template>\r\n                </v-data-table>\r\n              </v-col>\r\n              <v-col cols=\"6\" md=\"6\">\r\n                <v-btn\r\n                  :loading=\"loading\"\r\n                  :disabled=\"loading\"\r\n                  outlined\r\n                  color=\"success\"\r\n                  class=\"ma-2 white--text\"\r\n                  @click=\"saveRole\"\r\n                >\r\n                  <v-icon left dark>\r\n                    mdi-arrow-down-thick\r\n                  </v-icon>\r\n                  Save\r\n                </v-btn>\r\n\r\n                <v-btn\r\n                  outlined\r\n                  color=\"blue-grey\"\r\n                  class=\"ma-2 white--text\"\r\n                  @click=\"cancel\"\r\n                >\r\n                  <v-icon left dark>\r\n                    mdi-close\r\n                  </v-icon>\r\n                  cancel\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-app>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      headers: [], //data header for table\r\n      desserts: [], //data show on table\r\n      selected: [], //data selected from table\r\n      search: \"\",\r\n      deleteActive: true,\r\n      items: [], //data for autocomplete\r\n      values: [], //data selected from autocomplete\r\n      role_name: \"\",\r\n      role_describe: \"\",\r\n      loading: false,\r\n      form: {\r\n        name: \"\",\r\n        region: \"\",\r\n        date1: \"\",\r\n        date2: \"\",\r\n        delivery: false,\r\n        type: [],\r\n        resource: \"\",\r\n        desc: \"\",\r\n      },\r\n    };\r\n  },\r\n  props: {\r\n    layerid: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    iframeData: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n    },\r\n    lydata: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    /**\r\n     * init fist data when open layer\r\n     */\r\n    init: function() {\r\n      if (this.iframeData.type == `edit`) {\r\n        this.role_name = this.iframeData.role.role_name;\r\n        this.role_describe = this.iframeData.role.role_describe;\r\n        let array = [];\r\n        for (let i = 0; i < this.iframeData.role.privilege.length; i++) {\r\n          array.push(this.iframeData.role.privilege[i]._id);\r\n        }\r\n        this.values = array;\r\n      }\r\n    },\r\n    /**\r\n     * change table data when autocomplete select\r\n     * or follow data pass from role.vue page\r\n     */\r\n    changeTableData: function() {\r\n      let arr = [];\r\n      for (let i = 0; i < this.values.length; i++) {\r\n        for (let j = 0; j < this.items.length; j++) {\r\n          if (this.items[j]._id == this.values[i]) arr.push(this.items[j]);\r\n        }\r\n      }\r\n      this.desserts = arr;\r\n    },\r\n    selectRow: function(item) {\r\n      let add = true;\r\n      for (let i = 0; i < this.selected.length; i++) {\r\n        if (item._id == this.selected[i]._id) {\r\n          this.selected.splice(i, 1);\r\n          add = false;\r\n          break;\r\n        }\r\n      }\r\n      if (add) this.selected.push(item);\r\n    },\r\n    formatTime: function(item) {\r\n      return new Date(item).toLocaleString();\r\n    },\r\n    deletePrivilege: function() {\r\n      for (let i = 0; i < this.selected.length; i++) {\r\n        for (let j = 0; j < this.values.length; j++) {\r\n          if (this.values[j] == this.selected[i]._id) {\r\n            this.values.splice(j, 1);\r\n          }\r\n        }\r\n      }\r\n      this.selected = [];\r\n    },\r\n    saveRole: async function() {\r\n      try {\r\n        if (this.role_name == \"\") {\r\n          throw new Error(\"Role name can't be null\");\r\n        }\r\n        this.loading = true;\r\n        let result = await new Promise((resolve, reject) => {\r\n          this.$client.CallFunction(\r\n            \"RoleManager\",\r\n            this.iframeData.type == `edit` ? \"Update\" : \"Insert\",\r\n            this.iframeData.type == `edit`\r\n              ? {\r\n                  id: this.iframeData.role._id,\r\n                  new: {\r\n                    role_name: this.role_name,\r\n                    role_describe: this.role_describe,\r\n                    privilege: this.values,\r\n                  },\r\n                }\r\n              : {\r\n                  role_name: this.role_name,\r\n                  role_describe: this.role_describe,\r\n                  privilege: this.values,\r\n                },\r\n            function(e) {\r\n              if (e.Status == \"Pass\") resolve(e);\r\n              else reject(e.Message);\r\n            }\r\n          );\r\n        });\r\n        if (result) {\r\n          this.$parent.$data.iframeData.isChange = true;\r\n          this.$layer.msg(result.Message);\r\n          this.$layer.close(this.layerid);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n        this.$layer.msg(err);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    cancel() {\r\n      this.$layer.close(this.layerid);\r\n    },\r\n    quxiao() {\r\n      this.$layer.close(this.layerid);\r\n    },\r\n  },\r\n  mounted: async function() {\r\n    try {\r\n      let result = await new Promise((resolve, reject) => {\r\n        this.$client.CallFunction(\"PrivilegeManager\", \"GetAll\", {}, function(\r\n          e\r\n        ) {\r\n          if (e.Status == \"Pass\") resolve(e.Data);\r\n          else reject(e.Message);\r\n        });\r\n      });\r\n      if (result.length > 0) {\r\n        this.headers = [\r\n          { text: \"Privilege Name\", value: \"privilege_name\" },\r\n          { text: \"Describe\", value: \"privilege_desc\" },\r\n          { text: \"Target Url\", value: \"url\" },\r\n          { text: \"Edit Time\", value: \"edit_time\", formatter: this.formatTime },\r\n        ];\r\n        this.items = result;\r\n        this.init();\r\n      }\r\n    } catch (err) {\r\n      this.$layer.msg(err);\r\n    }\r\n  },\r\n  watch: {\r\n    iframeData: {\r\n      handler: function() {\r\n        this.form = this.iframeData;\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    },\r\n    selected: {\r\n      handler: function() {\r\n        if (this.selected.length > 0) this.deleteActive = false;\r\n        else this.deleteActive = true;\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    },\r\n    values: {\r\n      handler: function() {\r\n        this.changeTableData();\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style></style>\r\n"],"sourceRoot":"src/components"}]}