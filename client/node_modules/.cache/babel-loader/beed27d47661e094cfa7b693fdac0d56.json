{"remainingRequest":"D:\\2021_Project\\Nodejs\\WoodShop\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\2021_Project\\Nodejs\\WoodShop\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\2021_Project\\Nodejs\\WoodShop\\client\\src\\plugins\\VueClient.js","dependencies":[{"path":"D:\\2021_Project\\Nodejs\\WoodShop\\client\\src\\plugins\\VueClient.js","mtime":1620834475081},{"path":"D:\\2021_Project\\Nodejs\\WoodShop\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2021_Project\\Nodejs\\WoodShop\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\2021_Project\\Nodejs\\WoodShop\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi8yMDIxX1Byb2plY3QvTm9kZWpzL1dvb2RTaG9wL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkQ6LzIwMjFfUHJvamVjdC9Ob2RlanMvV29vZFNob3AvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKCnZhciBDbGllbnQgPSBmdW5jdGlvbiBDbGllbnQoKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaWVudCk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiSW5pdCIsIGZ1bmN0aW9uIChvYmopIHsKICAgIGlmICh0aGlzLkNsaWVudElEID09ICIiKSB7CiAgICAgIHRoaXMuQ2xpZW50SUQgPSAiQ0lEIiArIHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiA5OSkudG9TdHJpbmcoKSArIERhdGUubm93KCkudG9TdHJpbmcoKTsKICAgIH0KCiAgICBpZiAob2JqLlNlcnZlcklQICYmIG9iai5Qb3J0KSB7CiAgICAgIHRoaXMud2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldCgid3M6Ly8iLmNvbmNhdChvYmouU2VydmVySVAsICI6IikuY29uY2F0KG9iai5Qb3J0KSk7CiAgICAgIHRoaXMud2Vic29ja2V0LkNsaWVudElEID0gdGhpcy5DbGllbnRJRDsKICAgIH0KCiAgICBpZiAob2JqLk9uTWVzc2FnZSkgewogICAgICB0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2UgPSBvYmouT25NZXNzYWdlOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy53ZWJzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZygiR2V0Pl8iLmNvbmNhdChlLkRhdGEpKTsKICAgICAgfTsKICAgIH0KCiAgICBpZiAob2JqLk9uT3BlbikgewogICAgICB0aGlzLndlYnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJvbk9wZW46Y29ubmV0aW9uIG9wZW4iKTsKICAgICAgICBvYmouT25PcGVuKGUpOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgdGhpcy53ZWJzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZygib25PcGVuOmNvbm5ldGlvbiBvcGVuIik7CiAgICAgIH07CiAgICB9CgogICAgaWYgKG9iai5PbkNsb3NlKSB7CiAgICAgIHRoaXMud2Vic29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIm9uQ2xvc2U6Y29ubmV0aW9uIGNsb3NlIik7CiAgICAgICAgb2JqLk9uQ2xvc2UoKTsKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMud2Vic29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJvbkNsb3NlOmNvbm5ldGlvbiBjbG9zZSIpOyAvLyBzd2FsKAogICAgICAgIC8vICAgewogICAgICAgIC8vICAgICB0aXRsZTogIkNvbm5ldGlvbiBjbG9zZSIsCiAgICAgICAgLy8gICAgIHRleHQ6ICJUaGUgc2VydmVyIGNvbm5lY3Rpb24gY2xvc2U7IiArIGUucmVhc29uLAogICAgICAgIC8vICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgIC8vICAgfSwKICAgICAgICAvLyAgIGZ1bmN0aW9uKCkgewogICAgICAgIC8vICAgICAvL3BhcmVudC53aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gKTsKICAgICAgfTsKICAgIH0KICB9KTsKCiAgdGhpcy5DbGllbnRJRCA9ICIiOwogIHRoaXMud2Vic29ja2V0ID0gbnVsbDsKICB0aGlzLlVzZXJJbmZvID0gewogICAgSWQ6ICIiLAogICAgVXNlck5hbWU6ICIiLAogICAgRW1haWw6ICIiCiAgfSwgdGhpcy5Ub2tlbiA9IG51bGw7Cn07CgpleHBvcnQgZGVmYXVsdCBDbGllbnQ7"},{"version":3,"sources":["D:/2021_Project/Nodejs/WoodShop/client/src/plugins/VueClient.js"],"names":["Client","obj","ClientID","parseInt","Math","random","toString","Date","now","ServerIP","Port","websocket","WebSocket","OnMessage","onmessage","e","console","log","Data","OnOpen","onopen","OnClose","onclose","UserInfo","Id","UserName","Email","Token"],"mappings":";;;;;;IAAMA,M,GACJ,kBAAc;AAAA;;AAAA,gCAUP,UAASC,GAAT,EAAc;AACnB,QAAI,KAAKC,QAAL,IAAiB,EAArB,EAAyB;AACvB,WAAKA,QAAL,GACE,QAAQC,QAAQ,CAACC,IAAI,CAACC,MAAL,KAAgB,EAAjB,CAAR,CAA6BC,QAA7B,EAAR,GAAkDC,IAAI,CAACC,GAAL,GAAWF,QAAX,EADpD;AAED;;AACD,QAAIL,GAAG,CAACQ,QAAJ,IAAgBR,GAAG,CAACS,IAAxB,EAA8B;AAC5B,WAAKC,SAAL,GAAiB,IAAIC,SAAJ,gBAAsBX,GAAG,CAACQ,QAA1B,cAAsCR,GAAG,CAACS,IAA1C,EAAjB;AACA,WAAKC,SAAL,CAAeT,QAAf,GAA0B,KAAKA,QAA/B;AACD;;AACD,QAAID,GAAG,CAACY,SAAR,EAAmB;AACjB,WAAKF,SAAL,CAAeG,SAAf,GAA2Bb,GAAG,CAACY,SAA/B;AACD,KAFD,MAEO;AACL,WAAKF,SAAL,CAAeG,SAAf,GAA2B,UAASC,CAAT,EAAY;AACrCC,QAAAA,OAAO,CAACC,GAAR,gBAAoBF,CAAC,CAACG,IAAtB;AACD,OAFD;AAGD;;AACD,QAAIjB,GAAG,CAACkB,MAAR,EAAgB;AACd,WAAKR,SAAL,CAAeS,MAAf,GAAwB,UAASL,CAAT,EAAY;AAClCC,QAAAA,OAAO,CAACC,GAAR;AACAhB,QAAAA,GAAG,CAACkB,MAAJ,CAAWJ,CAAX;AACD,OAHD;AAID,KALD,MAKO;AACL,WAAKJ,SAAL,CAAeS,MAAf,GAAwB,UAASL,CAAT,EAAY;AAClCC,QAAAA,OAAO,CAACC,GAAR;AACD,OAFD;AAGD;;AACD,QAAIhB,GAAG,CAACoB,OAAR,EAAiB;AACf,WAAKV,SAAL,CAAeW,OAAf,GAAyB,YAAW;AAClCN,QAAAA,OAAO,CAACC,GAAR;AACAhB,QAAAA,GAAG,CAACoB,OAAJ;AACD,OAHD;AAID,KALD,MAKO;AACL,WAAKV,SAAL,CAAeW,OAAf,GAAyB,UAASP,CAAT,EAAY;AACnCC,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EADmC,CAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,OAZD;AAaD;AACF,GAxDa;;AACZ,OAAKf,QAAL,GAAgB,EAAhB;AACA,OAAKS,SAAL,GAAiB,IAAjB;AACC,OAAKY,QAAL,GAAgB;AACfC,IAAAA,EAAE,EAAE,EADW;AAEfC,IAAAA,QAAQ,EAAE,EAFK;AAGfC,IAAAA,KAAK,EAAE;AAHQ,GAAjB,EAKG,KAAKC,KAAL,GAAa,IALhB;AAMD,C;;AAiDH,eAAe3B,MAAf","sourcesContent":["class Client {\r\n  constructor() {\r\n    this.ClientID = \"\";\r\n    this.websocket = null;\r\n    (this.UserInfo = {\r\n      Id: \"\",\r\n      UserName: \"\",\r\n      Email: \"\",\r\n    }),\r\n      (this.Token = null);\r\n  }\r\n  Init = function(obj) {\r\n    if (this.ClientID == \"\") {\r\n      this.ClientID =\r\n        \"CID\" + parseInt(Math.random() * 99).toString() + Date.now().toString();\r\n    }\r\n    if (obj.ServerIP && obj.Port) {\r\n      this.websocket = new WebSocket(`ws://${obj.ServerIP}:${obj.Port}`);\r\n      this.websocket.ClientID = this.ClientID;\r\n    }\r\n    if (obj.OnMessage) {\r\n      this.websocket.onmessage = obj.OnMessage;\r\n    } else {\r\n      this.websocket.onmessage = function(e) {\r\n        console.log(`Get>_${e.Data}`);\r\n      };\r\n    }\r\n    if (obj.OnOpen) {\r\n      this.websocket.onopen = function(e) {\r\n        console.log(`onOpen:connetion open`);\r\n        obj.OnOpen(e);\r\n      };\r\n    } else {\r\n      this.websocket.onopen = function(e) {\r\n        console.log(`onOpen:connetion open`);\r\n      };\r\n    }\r\n    if (obj.OnClose) {\r\n      this.websocket.onclose = function() {\r\n        console.log(`onClose:connetion close`);\r\n        obj.OnClose();\r\n      };\r\n    } else {\r\n      this.websocket.onclose = function(e) {\r\n        console.log(\"onClose:connetion close\");\r\n        // swal(\r\n        //   {\r\n        //     title: \"Connetion close\",\r\n        //     text: \"The server connection close;\" + e.reason,\r\n        //     type: \"error\",\r\n        //   },\r\n        //   function() {\r\n        //     //parent.window.location.reload();\r\n        //   }\r\n        // );\r\n      };\r\n    }\r\n  };\r\n}\r\nexport default Client;\r\n"]}]}